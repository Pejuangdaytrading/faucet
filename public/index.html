<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DailyFunHub Faucet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Monetag SDK -->
  <script src='//libtl.com/sdk.js' data-zone='9748411' data-sdk='show_9748411'></script>

  <!-- Adsterra Social Bar -->
  <script type='text/javascript' src='//pl27468110.profitableratecpm.com/a6/68/b0/a668b013958e55610215c3779c508f5e.js'></script>

  <!-- hCaptcha -->
  <script src="https://js.hcaptcha.com/1/api.js" async defer></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f7f9fc;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: #1d4ed8;
      color: white;
      text-align: center;
      padding: 15px;
    }
    header h1 {
      margin: 0;
      font-size: 20px;
    }
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
      text-align: center;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    .h-captcha {
      margin: 10px auto;
    }
    button {
      padding: 12px;
      width: 100%;
      font-size: 16px;
      background: #22c55e;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
    }
    button:disabled {
      background: gray;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      background: #16a34a;
    }
    #status {
      margin-top: 10px;
      font-size: 14px;
      color: #333;
    }
    footer {
      background: #f3f4f6;
      text-align: center;
      padding: 10px;
    }
    .ad-banner {
      margin: 15px 0;
    }
    .ad-banner iframe {
      width: 100%;
      height: 90px;
      border: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>üö∞ DailyFunHub Faucet</h1>
    <p>Claim free <b>DOGE</b> every <b>5 minutes</b></p>
  </header>

  <main>
    <div class="card">
      <input id="wallet" type="text" placeholder="Enter FaucetPay Wallet Address">

      <!-- hCaptcha -->
      <div class="h-captcha" data-sitekey="be2ebfca-fe7e-43ba-8406-34f4e02623d2"></div>

      <button id="claimBtn" onclick="watchAd()">üéÅ Claim Faucet</button>

      <p id="status"></p>

      <!-- üîπ Banner Ads Slot -->
      <div class="ad-banner">
        <!-- Bisa ganti dengan kode banner Monetag / Adsterra -->
        <iframe src="https://via.placeholder.com/320x90?text=Your+Banner+Ad+Here"></iframe>
      </div>
    </div>
  </main>

  <footer>
    <small>&copy; 2025 DailyFunHub Faucet</small>
  </footer>

<script>
let canClaim = false;

function watchAd() {
  document.getElementById("status").innerText = "Showing ad... please wait.";
  show_9748411('pop').then(() => {
      canClaim = true;
      document.getElementById("status").innerText = "‚úÖ Ad finished! Click again to claim.";
      document.getElementById("claimBtn").onclick = sendClaim;
  }).catch(e => {
      document.getElementById("status").innerText = "‚ö†Ô∏è Ad error, try again.";
  });
}

function sendClaim() {
  if (!canClaim) {
    document.getElementById("status").innerText = "‚ùå Please watch ad first.";
    return;
  }

  let wallet = document.getElementById("wallet").value.trim();
  let captchaToken = document.querySelector("[name='h-captcha-response']").value;

  if (wallet === "" || captchaToken === "") {
    alert("Please enter wallet & solve captcha");
    return;
  }

  document.getElementById("status").innerText = "‚è≥ Processing claim...";

  fetch("/api/claim", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({wallet: wallet, captcha: captchaToken})
  })
  .then(r => r.json())
  .then(res => {
    if (res.success) {
      document.getElementById("status").innerText = "üéâ Claimed! " + res.message;
    } else {
      document.getElementById("status").innerText = "‚ùå " + res.message;
    }
  });
}
</script>
</body>
</html>
